# 問題 2.76 解答

## 必要な変更

```
                      | 新しい型                       | 新しい演算                     |
----------------------+--------------------------------+--------------------------------+
振り分けを持つ汎用演算|各汎用演算に新しい振り分けを追加|新しい汎用演算を追加            |
                      |名前の衝突を気にする必要がある  |各型に演算を追加                |
                      |                                |既存型名を把握している必要がある|
----------------------+--------------------------------+--------------------------------+
データ主導流          |新しいパッケージを追加          |新しい汎用演算を追加            |
                      |                                |各パッケージ内に演算を追加      |
----------------------+--------------------------------+--------------------------------+
メッセージパッシング流|新しいデータオブジェクトを追加  |新しい汎用演算を追加            |
                      |                                |各データオブジェクトに演算を追加|
----------------------+--------------------------------+--------------------------------+
```

## どれが適切か

* 新しい型が絶えず追加される

-> データ主導, メッセージパッシング

* 新しい演算が絶えず追加される

-> データ主導, メッセージパッシング

演算が多くなるとオブジェクトの1つあたりのサイズが大きくなるのでどちらかと言えばデータ主導が適する
