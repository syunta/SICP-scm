# 問題 3.39 解答

101: P1がxを100に設定し, 次にP2がxを101に増加する.
121: P2がxを11に増加し, 次にP1がxをx掛けるxに設定する.
100: P1がxに(二回)アクセスし, P2がxを11に設定し, P1がxを設定する.

この3つが残る。

110: P1の(* x x)の実行中に他プロセスは混じらないので、残らない
11 : P2がの実行中に他プロセスは混じらないので、残らない

## 101が残る図

```
   P1      x     P2
   +------10
   |
   V
get 10
   |
   V
get 10
   |
   V
10*10=100
   |
   V
set 100
   |
   +----->100-----+
                  |
                  V
               get 100
                  |
                  V
               100+1=101
                  |
                  V
               set 101
                  |
          101<----+
```

## 121が残る図

```
   P1      x     P2
          10------+
                  |
                  V
               get 10
                  |
                  V
               10+1=11
                  |
                  V
               set 11
                  |
   +------11<-----+
   |
   V
get 11
   |
   V
get 11
   |
   V
11*11=121
   |
   V
set 121
   |
   +----->121
```

## 100が残る図

```
   P1      x     P2
   +------10
   |
   V
get 10
   |
   V
get 10
   |
   V
10*10=100
   |      10------+
   |              |
   |              V
   |           get 10
   |              |
   |              V
   |           10+1=11
   |              |
   |              V
   |           set 11
   |              |
   |      11<-----+
   |
   V
set 100
   |
   +----->100
```
