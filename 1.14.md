# 問題 1.14 解答

## 木構造

`(cc amount coin)`

```
(cc 11 50) -- (cc -39 50)
    |
(cc 11 25) -- (cc -14 25)
    |
(cc 11 10) -- (cc 1 10) -- (cc -9 10)
    |             |
    |         (cc 1  5) -- (cc -4  5)
    |             |
    |         (cc 1  1) -- (cc  0  1) -- +1
    |
(cc 11  5) -- (cc 6  5) -- (cc  1  5) -- (cc -4 5)
    |             |             |
    |             |        (cc  1  1) -- (cc  0 1) -- +1
    |             |
    |         (cc 6  1) -- (cc  5  1) -- ... -- (cc 0 1) -- +1
    |
(cc 11  1) -- (cc 10 1) -- ... -- (cc 0 1) -- +1
```

## 増加の程度

プロセスが使うスペースの増加は `Θ(n)`。全て1セントで両替するときに最もスペースを必要とする。

プロセスが使うステップ数の増加は指数的に増えている。

例えば、n=1000 の両替を考える。

コインが1セントのみのとき、上図の

```
(cc 1000 1) -- (cc 999 1) -- (cc 0 1)
```

の計算だけが起きるので、増加の程度は明らかに`Θ(n)`である。

コインが1セントと5セントのとき、

```
(cc 1000 5) -- (cc 995 5) -- (cc 990 5) ... (cc 0 5)
     |              |             |
(cc 1000 1)    (cc 995 1)    (cc 990 1)
```

のようになる。

それぞれ 1000 995 990 ... の金額に対する1セントのみの両替計算がぶら下がる形なので、ステップ数の増加は三角形の面積と同じように求められる。

```
1/2 * Θ(n) * n/5 => Θ(n^2)
```

コインが1セントと5セントと10セントのとき、

```
(cc 1000 10) -- (cc 990 10) -- (cc 980 10) ... (cc 0 10)
     |               |              |
(cc 1000 5)     (cc 990 5)     (cc 980 5)
```

のようになる。

それぞれ 1000 990 980 ... の金額に対する5セントと1セントの両替計算がぶら下がる形なので、ステップ数の増加は三角形の面積と同じように求められる。

```
1/2 * Θ(n^2) * n/10 => Θ(n^3)
```

同様の手順を繰り返して、1,5,10,25,50 のコインが5種類のときのステップ数の増加は`Θ(n^5)`となる。
